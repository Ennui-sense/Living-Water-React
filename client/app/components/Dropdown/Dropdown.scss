@use "~/styles/helpers" as *;

.dropdown {
  padding: rem(20) rem(15);
  box-shadow: var(--shadow);
  background-color: var(--color-light);
  border-radius: var(--border-radius-small);
  width: rem(280);
	z-index: 800;

  &__form {
    display: flex;
    flex-direction: column;
    row-gap: rem(5);
  }

  &__field {
    padding: rem(15) rem(20);
    display: flex;
    justify-content: space-between;
    border-radius: var(--border-radius-small);
    position: relative;

    &:not(:has(.dropdown__checkbox-input:checked)) {
      @include hover {
        background-color: var(--color-gray-100);

        .dropdown__checkbox-input {
          border-color: var(--color-dark);
        }
      }
    }
  }

  &__checkbox {
    display: flex;
    column-gap: rem(10);
    align-items: start;

    &:has(.dropdown__checkbox-input:checked) {
      .dropdown__checkbox-label {
        color: var(--color-accent);
      }

      .dropdown__checkbox-input {
        border-color: var(--color-accent);
      }
    }

    &-input {
      @include square(rem(20));
      @include flex-center(true);

      appearance: none;
      border-radius: var(--border-radius-x-small);
      border: var(--border);
      color: var(--color-gray-80);
      margin: 0;
			min-width: rem(20);
      transition-duration: var(--transition-duration);

      &::before {
        content: "";
        position: absolute;
        inset: 0;
      }

      &::after {
        @include square(0);

        content: "";
        display: flex;
        background: url("../../assets/icons/check.svg") center / cover no-repeat;
        transition-duration: var(--transition-duration);
      }

      &:checked {
        &::after {
          @include square(rem(15));
        }
      }
    }

    &-label {
      font-size: rem(14);
      line-height: 1.43;
    }
  }

  &__count {
    font-size: rem(14);
    line-height: 1.43;
		color: var(--color-gray-80)
  }
}
